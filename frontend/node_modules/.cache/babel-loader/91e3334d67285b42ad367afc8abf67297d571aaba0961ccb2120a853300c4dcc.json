{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import bus from\"../../utils/bus\";import styles from\"./Message.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";function Message(){let[visibility,setVisibility]=useState(false);let[message,setMessage]=useState(\"\");let[type,setType]=useState(\"\");useEffect(()=>{bus.addListener(\"flash\",_ref=>{let{message,type}=_ref;setVisibility(true);setMessage(message);setType(type);setTimeout(()=>{setVisibility(false);},4000);});},[]);useEffect(()=>{if(document.querySelector(\".close\")!==null){document.querySelector(\".close\").addEventListener(\"click\",()=>setVisibility(false));}});return visibility&&/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(styles.message,\" \").concat(styles[type]),children:message});}export default Message;","map":{"version":3,"names":["React","useEffect","useState","bus","styles","jsx","_jsx","Message","visibility","setVisibility","message","setMessage","type","setType","addListener","_ref","setTimeout","document","querySelector","addEventListener","className","concat","children"],"sources":["D:/Projetos/Node/15_GETAPET/frontend/src/components/layout/Message.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport bus from \"../../utils/bus\";\n\nimport styles from \"./Message.module.css\";\n\nfunction Message() {\n  let [visibility, setVisibility] = useState(false);\n  let [message, setMessage] = useState(\"\");\n  let [type, setType] = useState(\"\");\n\n  useEffect(() => {\n    bus.addListener(\"flash\", ({ message, type }) => {\n      setVisibility(true);\n      setMessage(message);\n      setType(type);\n      setTimeout(() => {\n        setVisibility(false);\n      }, 4000);\n    });\n  }, []);\n\n  useEffect(() => {\n    if (document.querySelector(\".close\") !== null) {\n      document\n        .querySelector(\".close\")\n        .addEventListener(\"click\", () => setVisibility(false));\n    }\n  });\n\n  return (\n    visibility && (\n      <div className={`${styles.message} ${styles[type]}`}>{message}</div>\n    )\n  );\n}\n\nexport default Message;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,GAAG,KAAM,iBAAiB,CAEjC,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE1C,QAAS,CAAAC,OAAOA,CAAA,CAAG,CACjB,GAAI,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGP,QAAQ,CAAC,KAAK,CAAC,CACjD,GAAI,CAACQ,OAAO,CAAEC,UAAU,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CACxC,GAAI,CAACU,IAAI,CAAEC,OAAO,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAElCD,SAAS,CAAC,IAAM,CACdE,GAAG,CAACW,WAAW,CAAC,OAAO,CAAEC,IAAA,EAAuB,IAAtB,CAAEL,OAAO,CAAEE,IAAK,CAAC,CAAAG,IAAA,CACzCN,aAAa,CAAC,IAAI,CAAC,CACnBE,UAAU,CAACD,OAAO,CAAC,CACnBG,OAAO,CAACD,IAAI,CAAC,CACbI,UAAU,CAAC,IAAM,CACfP,aAAa,CAAC,KAAK,CAAC,CACtB,CAAC,CAAE,IAAI,CAAC,CACV,CAAC,CAAC,CACJ,CAAC,CAAE,EAAE,CAAC,CAENR,SAAS,CAAC,IAAM,CACd,GAAIgB,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC,GAAK,IAAI,CAAE,CAC7CD,QAAQ,CACLC,aAAa,CAAC,QAAQ,CAAC,CACvBC,gBAAgB,CAAC,OAAO,CAAE,IAAMV,aAAa,CAAC,KAAK,CAAC,CAAC,CAC1D,CACF,CAAC,CAAC,CAEF,MACE,CAAAD,UAAU,eACRF,IAAA,QAAKc,SAAS,IAAAC,MAAA,CAAKjB,MAAM,CAACM,OAAO,MAAAW,MAAA,CAAIjB,MAAM,CAACQ,IAAI,CAAC,CAAG,CAAAU,QAAA,CAAEZ,OAAO,CAAM,CACpE,CAEL,CAEA,cAAe,CAAAH,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}